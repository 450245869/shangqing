import{n as a,r as t,s as i,a as e,b as o,o as s,c as n,w as l,i as c,d as p,e as d,f,g as u,t as r,h as _,j as y,k as m,l as h,m as w}from"./index-PnxmNqG6.js";import{p as A}from"./ming-pop.BfggCYA1.js";import{_ as k,a as x}from"./wxpay.Bc05EOdG.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";const b=g({data:()=>({no:"",direction:"below",info:[],paytype:"alipay"}),onLoad(a){this.getinfo(a.id,a.out_trade_no)},methods:{tolist:function(){a({url:"../articlelist/articlelist?mid="+this.info.A.A_mid})},open:function(){this.$refs.pop.show()},choose:function(a){this.paytype=a.currentTarget.dataset.type},getinfo:function(a,e){var o=this;t({url:"http://39.108.219.63:88/article/api/id/"+a+"/no/"+e+"?domain="+document.domain,method:"get",success:function(a){o.info=a.data,o.no=a.data.no,0==o.info.M.M_alipayon&&1==o.info.M.M_wxpayon&&(o.paytype="wxpay"),i({title:a.data.A.A_title})}})},pay:function(){var a=this;t({url:"http://39.108.219.63:88/pay/index",method:"post",data:{no:a.no,id:a.info.A.A_id,type:2,paytype:a.paytype},success:function(a){"success"==a.data.code?window.location.href=a.data.url:e({title:a.msg,icon:"none",duration:2e3})}})}},components:{pop:A}},[["render",function(a,t,i,e,A,g){const b=c,M=m,C=h,v=w,j=o("pop");return s(),n(b,null,{default:l((()=>[p(b,{class:"news_back",onClick:g.tolist},{default:l((()=>[(s(),d("svg",{t:"1700406544587",style:{width:"20px","margin-top":"-10px"},class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4016",width:"50",height:"50"},[f("path",{d:"M393.390114 512.023536l347.948667-336.348468c20.50808-19.85828 20.50808-51.997258 0-71.792093-20.507056-19.826558-53.778834-19.826558-74.28589 0L281.990954 476.135164c-20.476357 19.826558-20.476357 51.981908 0 71.746044l385.061936 372.236839c10.285251 9.91379 23.728424 14.869662 37.173644 14.869662 13.446243 0 26.889417-4.956895 37.112246-14.901385 20.50808-19.826558 20.50808-51.919487 0-71.746044L393.390114 512.023536","p-id":"4017",fill:"#ffffff"})]))])),_:1},8,["onClick"]),p(b,{class:"main"},{default:l((()=>[f("img",{src:"http://39.108.219.63:88/media/"+A.info.A.A_pic,class:"pic",mode:"widthFix"},null,8,["src"]),p(b,{class:"article"},{default:l((()=>[p(b,{class:"title"},{default:l((()=>[u(r(A.info.A.A_title),1)])),_:1}),p(b,{class:"time"},{default:l((()=>[f("span",null,r(A.info.M.M_webtitle),1),u(r(A.info.A.A_time),1)])),_:1}),p(b,{class:"content"},{default:l((()=>[1==A.info.buy?(s(),n(b,{key:0,class:"success"},{default:l((()=>[u("您已付费解锁本文章全部内容！")])),_:1})):_("",!0),p(M,{nodes:A.info.A.A_content},null,8,["nodes"]),0==A.info.buy?(s(),n(b,{key:1,class:"buy_box"},{default:l((()=>[p(b,null,{default:l((()=>[u("本文章为付费文章，是否支付"),f("span",{class:"price"},r(A.info.A.A_price)+"元",1),u("后完整阅读？")])),_:1}),p(b,null,{default:l((()=>[p(C,{onClick:t[0]||(t[0]=a=>g.open())},{default:l((()=>[u("支付"+r(A.info.A.A_price)+"元 解锁剩余内容",1)])),_:1})])),_:1})])),_:1})):_("",!0)])),_:1}),p(b,{class:"contact"},{default:l((()=>[u(r(A.info.M.M_contact)+"，有任何疑问请联系客服人员",1)])),_:1})])),_:1})])),_:1}),p(j,{ref:"pop",direction:A.direction,is_close:!0,is_mask:!0,width:100},{default:l((()=>[p(b,{class:"main pop"},{default:l((()=>[p(b,{class:"poptitle"},{default:l((()=>[u("请选择支付方式")])),_:1}),1==A.info.M.M_alipayon?(s(),n(b,{key:0,class:y("alipay"==A.paytype?"label checked":"label"),onClick:g.choose,"data-type":"alipay"},{default:l((()=>[p(v,{src:k,mode:"widthFix"})])),_:1},8,["class","onClick"])):_("",!0),1==A.info.M.M_wxpayon?(s(),n(b,{key:1,class:y("wxpay"==A.paytype?"label checked":"label"),onClick:g.choose,"data-type":"wxpay"},{default:l((()=>[p(v,{src:x,mode:"widthFix"})])),_:1},8,["class","onClick"])):_("",!0),p(C,{type:"primary",class:"pay_btn",onClick:g.pay},{default:l((()=>[u("支付"+r(A.info.A.A_price)+"元",1)])),_:1},8,["onClick"])])),_:1})])),_:1},8,["direction"])])),_:1})}],["__scopeId","data-v-67ed785f"]]);export{b as default};
